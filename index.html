<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PDF OCR Tool | Advocate / CSC</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{font-family:Arial;background:#f4f6f8;margin:0}
.container{max-width:600px;margin:20px auto;background:#fff;
padding:20px;border-radius:8px;box-shadow:0 0 10px rgba(0,0,0,.1)}
h2{text-align:center;color:#1a237e}
input,select,button{width:100%;padding:10px;margin:8px 0;font-size:16px}
button{background:#1a237e;color:#fff;border:none;border-radius:5px}
#loading{display:none;text-align:center;font-weight:bold}
.brand{text-align:center;font-size:14px;color:#555;margin-top:10px}
</style>
</head>

<body>
<div class="container">
<h2>PDF to OCR Tool</h2>

<input type="file" id="pdfFile" accept="application/pdf">

<select id="lang">
<option value="eng">English</option>
<option value="hin">Hindi</option>
<option value="mar">Marathi</option>
</select>

<button onclick="startOCR()">Start OCR</button>

<div id="loading">⏳ Processing… Please wait</div>

<div id="download"></div>

<div class="brand">
Powered by Krishna Londhe | Advocate / CSC Tool
</div>
</div>

<script>
function startOCR(){
const file=document.getElementById("pdfFile").files[0];
if(!file){alert("Upload PDF first");return;}

document.getElementById("loading").style.display="block";
document.getElementById("download").innerHTML="";

const lang=document.getElementById("lang").value;
const formData=new FormData();
formData.append("file",file);
formData.append("language",lang);
formData.append("isSearchablePdf","true");
formData.append("isOverlayRequired","true");

fetch("https://api.ocr.space/parse/image",{
method:"POST",
headers:{
apikey:"K81683955688957"
},
body:formData
})
.then(res=>res.json())
.then(data=>{
document.getElementById("loading").style.display="none";

if(data.IsErroredOnProcessing){
alert("OCR failed: "+data.ErrorMessage);
return;
}

const pdfUrl=data.SearchablePDFURL;
document.getElementById("download").innerHTML=
`<a href="${pdfUrl}" target="_blank">
<button>⬇ Download Searchable PDF</button></a>`;
})
.catch(()=>{
document.getElementById("loading").style.display="none";
alert("Server error. Try again.");
});
}
</script>
</body>
</html>
